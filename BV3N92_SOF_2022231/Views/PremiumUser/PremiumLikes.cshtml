@using Microsoft.AspNetCore.Identity
@model UserManager<SiteUser>
@inject UserManager<SiteUser> UserManager

@{
	var currentUser = await UserManager.GetUserAsync(User);
	var likedUsers = UserManager.Users
		.AsEnumerable()
        .Where(u => u.LikedUsers.Any(l => l.WhoLikedId == currentUser.Id))
        .ToList();
	
}

<h1>@ViewData["Title"]</h1>
<h1 class="text-white">Premium Likes</h1>
<p class="text-white">Check who likes you</p>


<ul>
	@foreach (var user in likedUsers)
	{
		<li style="float: left; list-style-type: none; margin:10px">
			<div class="card" style="width: 18rem; background-color:darkgoldenrod">
				<img class="card-img-top" src="@user.ProfilePictureUrl" alt="Card image cap" style="width:100px; height:100px; border:none;">
				<div class="card-body">
					<h5 class="card-title text-white">@user.FirstName</h5>
					<h7 class="card-title text-white">@user.Age</h7>
					<h7 class="card-title text-white">@user.Orientation</h7>
					<h7 class="card-title text-white">@user.Gender</h7>
					@*@if (await UserManager.IsInRoleAsync(user, "Admin"))
					{
						<a href="/Admin/RemoveAdminRights?userId=@user.Id" class="btn btn-warning">Remove Admin Rights</a>
					}
					else
					{
						<a href="/Admin/GrantAdminRights?userId=@user.Id" class="btn btn-success">Grant Admin Rights</a>
					}*@
					@*<br />
					<br />
					@Html.ActionLink("Delete Profil", "DeleteUser", "Admin", new { userId = user.Id },  new { @class="btn btn-danger", onclick="return confirm('Are you sure you want to delete this user?')" })*@
				</div>
			</div>

		</li>
	}
</ul>